# Telegram_Bot_URP
### Телеграм бот с актуальными данными и документами компании (для внутренних сотрудников).

Чат-бот разработанный для адаптации новых сотрудников и быстрого доступа к информации всем сотрудникам (вне корпоративной сети).

### Основные эффекты
- Повышение осведомленности и уровня доступности информации
- Повышение вовлеченности и лояльности сотрудников
- Популяризация основных процессов и компании
- Снижение текучести персонала, ускорение процесса вхождения нового сотрудника в должность

### Роли:
- Администратор
- Модератор
- Авторизованный пользователь
- Гость

## Команды
Общие:
```
/start - запускает бота
/info - информация о боте
```

Команды андминистратора:
```
/dbinfo - Выгрузка, базы данных в excel и лог-файлов.
```
```
/createcode_company - Создание уникального ключа доступа для регистрации новых сотрудников 
(доступные компании сейчас: createcode_ES, createcode_ST, createcode_NR, createcode_ITS).
```
```
/deleteuser user_id - Удаление пользователя по user_id.
```
```
/deletecode unique_code - Удаление пользователя по unique_code.
```
```
/createmoderator user_code - Назначение модератора.
```
```
/updatecode old_code company_name - Обновление кода в БД.
```
```
/updates - Сообщение об обновлении чат-бота.
```
```
/massmess your_message_here - Массовое сообщение пользователям (до 500 символов).

```

Команды модератора:
```
/createcode_company - Создание уникального ключа доступа для регистрации новых сотрудников.
```

Команды гостя:
```
/code your_unique_code - команда для регистрации (используется код выданный администратором или модератором)
```


## Используемые технологии
- python 3.12.1
- pyTelegramBotAPI 4.9.0
- pandas 2.0.2
- XlsxWriter 3.1.2

## Настройка проекта

Cоздать и активировать виртуальное окружение:
```
python -m venv venv
```
```
# Linux/macOS
source venv/bin/activate
```
```
# Windows
source venv/scripts/activate
```
Установить зависимости:
```
python -m pip install --upgrade pip
```
```
pip install -r requirements.txt
```

### Запуск приложения:

Для работы бота необходимо указать TOKEN выданный ботом [@BotFather](https://telegram.me/BotFather) в файле `.env`
```
URP_BOT_TOKEN = 'your_bot_token'
STOP_COMMAND = 'stop'
```

Запустить сервис на локальном ПК (из основной директории проекта):
```
python main.py

or

docker  compose  -f  docker-compose.yml  up -d

```

### Проект разрабатывается в разных ветках Git.
```
main - стабильная ветка
dev - основная ветра разработки
```

### TODO:
- ~Блок "Бланки заявлений"~
- ~Блок "Закупки"~
- ~Глобальный рефакторинг (переход от функционального стиля к ООП)~
- ~SQLAlchemy~
    - ~PostgreSQL~
- ~Новый блок "ЧАВО?"~
- ~Расширение функционала модераторов~
- ~Добавление новых дочерних обществ~
- FastAPI
    - Api бота
    - Административная панель для модераторов


## Автор:
- [Александр Жданов ](https://github.com/ZhdanovAM72)
